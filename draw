#!/usr/local/bin/wish8.6

canvas .demo -width 1024 -height 512 -background white
button .end -text "done" -command exit

pack .demo .end -fill both -expand true

#.demo create rect 25 25 325 75 \
	#-fill blue
#.demo create text 175 50 \
	#-text "Initial String of Text" \
	#-fill yellow

set count 0
while true {
	gets stdin row
	if { [eof stdin] } { break };
	lassign [regexp -all -inline {\S+} $row] x y color
	.demo create rec $x $y $x $y
	if [expr {$count == 500}] {
		update idletasks
		set count 0
	}
	set count [expr {$count + 1}]
}
