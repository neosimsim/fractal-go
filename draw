#!/usr/local/bin/wish8.6

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
#
# Copyrigth Â© Alexander Ben Nasrallah 2017 <abn@posteo.de>

canvas .demo -width 1024 -height 512 -background white
button .end -text "done" -command exit

pack .demo .end -fill both -expand true

#.demo create rect 25 25 325 75 \
	#-fill blue
#.demo create text 175 50 \
	#-text "Initial String of Text" \
	#-fill yellow

set count 0
while true {
	gets stdin row
	if { [eof stdin] } { break };
	lassign [regexp -all -inline {[^,]+} $row] x y color
	.demo create line $x $y  [expr $x + 1] [expr $y + 1]  -fill $color
	if [expr {$count == 15000}] {
		update idletasks
		set count 0
	}
	set count [expr {$count + 1}]
}
